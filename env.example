# Database configuration
DATABASE_HOST=db
DATABASE_USERNAME=postgres
DATABASE_PASSWORD=postgres
DATABASE_NAME=beam_deflection_development

# MinIO configuration
MINIO_ACCESS_KEY=minio
MINIO_SECRET_KEY=minio12345
MINIO_ENDPOINT=http://minio:9000
MINIO_REGION=us-east-1
MINIO_BUCKET=beam-deflection

# Application configuration
SECRET_KEY_BASE=your-secret-key-base-here
RAILS_ENV=development
RAILS_SERVE_STATIC_FILES=true
RAILS_LOG_TO_STDOUT=true

# Async deflection service (external Django) configuration
# When ASYNC_SERVICE_URL is set, Rails will POST "trigger" requests to it after /complete.
# Django should compute (optionally with a delay) and then POST results back to ASYNC_CALLBACK_URL.
#
# From Docker (Rails container) to a service running on the host:
# - Windows/Mac Docker Desktop: use host.docker.internal
# - Linux: you may need extra_hosts: ["host.docker.internal:host-gateway"] in docker-compose.yml
#
# Rails (container) -> Django (host): use host.docker.internal
# ASYNC_SERVICE_URL=http://host.docker.internal:8000/api/deflections/trigger
# Django (host) -> Rails (published port): use localhost (or your LAN IP)
# ASYNC_CALLBACK_URL=https://localhost:3000/api/beam_deflections/{id}/async_result
#
# Optional shared secrets
# ASYNC_TRIGGER_TOKEN=change-me         # Rails -> Django header: X-Async-Token
# ASYNC_CALLBACK_TOKEN=change-me        # Django -> Rails header: X-Async-Token
#
# Development fallback: used only when ASYNC_SERVICE_URL is NOT set
# ASYNC_SIM_DELAY_SECONDS=7
